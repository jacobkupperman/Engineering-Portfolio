The relay board exists to make sure that the flow of power through the boat can be properly controlled in case a shutdown is necessary or to guarantee safety during any fixes of the internal systems (i.e. rewirings or handling the thrusters). Thus, the kill switch board needs to accomplish a few objectives. The first objective is that it needs to be able to initiate a kill through the remote controller or computer. Although a physical kill is required, the relay for that is externally mounted and thus not included on this board. Then, this board must have kill status indicators so that whether it is digitally or physically killed can be indicated to the team (Cornell Autoboat). Lastly, it must most importantly shut down the high power motors. 

<img width="977" height="550" alt="image" src="https://github.com/user-attachments/assets/7ad52d25-bb3e-4eb5-aa7c-9e552e89affe" />

For the digital kill, it incorporates a GPIO signal from the RP2040 with the 12 V line from the power supply (which is already controlled by the physical kill). By using the GPIO signal to control whether the 12 V line goes through, the relay board enables digital kill functionality. The reason why this implementation includes a charge pump is because the transistor has a gate-source threshold voltage of 1 V. However, the gate-source voltage, without the charge pump, is 3.3 V - 12 V = -8.7 V. The charge pump takes advantage of the 12 V at the source and pumps it to 18 V (16 V to 21 V) which makes the gate-source voltage 6 V.

<img width="982" height="547" alt="image" src="https://github.com/user-attachments/assets/91655949-ab99-47fa-9906-8a83d25c85e1" />

The kill status indicators are implemented by feeding the digital (the GPIO output) and physical (the power distribution output) kill signals to separate LEDs and pairing the LEDs with current limiting resistors. The transistor shown here is meant to allow for a signal to be sent to the computer when a kill is executed. To accomplish that, its gate is controlled by a signal from the first transistor. The 3.3 V from the power distribution is also controlled by the physical kill, by virtue of being from the power distribution board. The signal is then sent to another GPIO pin of the microcontroller and the computer can determine whether there was a kill based on whether it is still receiving a 3.3 V signal at that particular GPIO pin.

<img width="980" height="546" alt="image" src="https://github.com/user-attachments/assets/72adfbd0-c03e-4718-8ae5-d26937e9ea60" />

These relay switches are 1 Form A relays. They take in a signal to a coil (with two contacts) and if a certain voltage is supplied to the coil, electromagnetic induction to flip a switch which controls current flow between the other two contacts. The diode is a flyback diode which prevents any voltage spikes when the coils stop receiving voltage due to the inductive nature of the coils. This is the last of the major considerations for the schematic design.

<img width="1150" height="780" alt="image" src="https://github.com/user-attachments/assets/af1ea010-ac4c-4846-bf67-916eb14904dc" />

The major considerations for the PCB design were how to accommodate enough current for the motors (which require 24 V and 43.5 A at max power) and manage heat generation by the current flow. In order to accomplish this the solution to both issues was to make the copper polygons which facilitated current flow wider. However, space considerations still needed to be made. In order to choose space-efficient and capable polygons, the IPC 2221 standard formula proved useful. Based on that formula, it was computed that the four major nets (Motor 1, Motor 2, +24V COM, and the high power ground) would rise in temperature 2.627 K, 1.905 K, 1.686 K, and 10.42 K or 7.6 K (because there are two main return paths due to each motor having a ground). The reason why the ground polygon is expected to increase so much more in temperature is because of how close together the relays and XT-90 connectors had to be placed. However, because each return path occurs on the same polygon, the temperature increase should be expected to be more of an average between the two (10.42 K or 7.6 K). 
